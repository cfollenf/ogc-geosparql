@base <http://www.opengis.net/def/geosparql/validator/> .

@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sdo: <https://schema.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

<http://www.opengis.net/def/geosparql/validator>
  a owl:Ontology ;
  dcterms:contributor [
      a sdo:Person ;
      rdfs:comment "French translations of ontology"@en ;
      rdfs:comment "Traductions de l'ontologie en français"@fr ;
      sdo:affiliation "Glengarry Agriculture and Forestry" ;
      sdo:email "warren@glengarryag.com"^^xsd:anyURI ;
      sdo:name "Rob Warren" ;
      sdo:url " https://orcid.org/0000-0002-7066-1141"^^xsd:anyURI ;
    ] ;
  dcterms:created "2021-06-13"^^xsd:date ;
  dcterms:creator "OGC GeoSPARQL Standards Working Group" ;
  dcterms:description """Ce fichier [Shapes Constraint Language (SHACL)](https://www.w3.org/TR/shacl/) définit des restrictions sur les données RDF.
Il peut être utilisé pour vérifier la conformité à la norme GeoSPARQL.

Pour GeoSPARQL 1.1, ce validateur n'est pas normatif, mais informatif. Il sera la base pour les validateurs normatifs futurs."""@fr ;
  dcterms:license "https://www.ogc.org/license"^^xsd:anyURI ;
  dcterms:modified "2021-08-12"^^xsd:date ;
  dcterms:publisher [
      a sdo:Organization ;
      sdo:name "Open Geospatial Consortium" ;
      sdo:url "https://www.ogc.org"^^xsd:anyURI ;
    ] ;
  dcterms:rights "(c) 2021 Open Geospatial Consortium" ;
  dcterms:title "Validateur GeoSPARQL RDF Shapes"@fr ;
  owl:versionIRI <http://www.opengis.net/def/geosparql/validator/1.1> ;
  owl:versionInfo "OGC GeoSPARQL 1.1" ;
.
<http://www.opengis.net/def/geosparql/validator/S1-a-hasGeometry-hasSerialization-sub>
  a sh:PropertyShape ;
  sh:path [
      sh:alternativePath (
          geo:hasSerialization
          geo:asGML
          geo:asWKT
          geo:asGeoJSON
          geo:asKML
          geo:asDGGS
        ) ;
    ] ;
  skos:example """# Exemple valide: Entrant dans le noeud de géométrie est geo:hasGeometry avec geo:asWKT en sortant.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		."""@fr ;
  skos:example """# Un exemple non valide: entrant dans le noeud de géométrie est geo:hasGeometry, mais il n'y a pas de geo:hasSerialization sortant ou une
		# de ses spécialisations
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [] ;
		."""@fr ;
  skos:example """# Un exemple non valide: le noeud de géométrie est geo:hasDefaultGeometry mais sans geo:hasSerialization sortant ou spécialisation de celui-ci 
    @prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasDefaultGeometry [] ;
		."""@fr ;
  skos:example """# Un exemple valide: entrant dans le noeud de géométrie vierge est geo:hasDefaultGeometry avec geo:asWKT comme
                # sortie.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasDefaultGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		."""@fr ;
  sh:message "Chaque noeud avec un geo:hasGeometry, ou une spécialisation de, devrait avoir au minimum une relation sortante geo:hasSerialization ou une spécialisation de celle-ci."@fr ;
  sh:minCount 1 ;
.
<http://www.opengis.net/def/geosparql/validator/S1-b-hasGeometry-hasSerialization-sub>
  a sh:PropertyShape ;
  sh:path geo:asWKT ;
  skos:example """# Un exemple non valide: l'entrant dans le neoud de géométrie vierge est geo:hasGeometry avec deux relations
		# geo:asWKT.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
				geo:asWKT \"POINT (153.08 -27.32)\"^^geo:wktLiteral ;
			] ;
		."""@fr ;
  skos:example """# Un exemple valide:  L'entrée dans le neoud de géométrie vierge est geo:hasGeometry, sortant est une relation geo:asWKT. RDF traite les deux inscriptions comme un triple car ils sont identiques. 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		."""@fr ;
  skos:example """# Un exemple valide: L'entrée dans le neoud de géométrie geo:hasGeometry et sortant est une relation geo:asWKT.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		."""@fr ;
  sh:maxCount 1 ;
  sh:message "Chaque noeud avec un instance geo:hasGeometry, ou une spécialisation de celui-ci, peut avoir un maximum de une relation geo:asWKT."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S1-c-hasGeometry-hasSerialization-sub>
  a sh:PropertyShape ;
  sh:path geo:asGML ;
  sh:maxCount 1 ;
  sh:message "Chaque neoud avec un geo:hasGeometry entrante, ou une spécialisation de celui-ci, peut avoir un maximum d'une relation asGML."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S1-cefaultGeometry-hasSerialization>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-a-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-b-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-c-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-d-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-e-hasGeometry-hasSerialization-sub> ;
  sh:targetObjectsOf geo:defaultGeometry ;
.
<http://www.opengis.net/def/geosparql/validator/S1-d-hasGeometry-hasSerialization-sub>
  a sh:PropertyShape ;
  sh:path geo:asGeoJSON ;
  sh:maxCount 1 ;
  sh:message "Chaque neoud avec un geo:hasGeometry entrante, ou une spécialisation de celui-ci, peut avoir un maximum d'une relation geo:asGeoJSON."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S1-e-hasGeometry-hasSerialization-sub>
  a sh:PropertyShape ;
  sh:path geo:asKML ;
  sh:maxCount 1 ;
  sh:message "Chaque neoud avec un geo:hasGeometry entrante, ou une spécialisation de celui-ci, peut avoir un maximum d'une relation geo:asKML."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S1-hasDefaultGeometry-hasSerialization>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-a-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-b-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-c-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-d-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-e-hasGeometry-hasSerialization-sub> ;
  sh:targetObjectsOf geo:hasDefaultGeometry ;
.
<http://www.opengis.net/def/geosparql/validator/S1-hasGeometry-hasSerialization>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-a-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-b-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-c-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-d-hasGeometry-hasSerialization-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S1-e-hasGeometry-hasSerialization-sub> ;
  sh:targetObjectsOf geo:hasGeometry ;
.
<http://www.opengis.net/def/geosparql/validator/S10-many-dimension-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S10-many-dimension-one-sub> ;
  sh:targetSubjectsOf geo:dimension ;
.
<http://www.opengis.net/def/geosparql/validator/S10-many-dimension-one-sub>
  a sh:PropertyShape ;
  sh:path geo:dimension ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:dimension. "@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S11-many-isEmpty-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S11-many-isEmpty-one-sub> ;
  sh:targetSubjectsOf geo:isEmpty ;
.
<http://www.opengis.net/def/geosparql/validator/S11-many-isEmpty-one-sub>
  a sh:PropertyShape ;
  sh:path geo:isEmpty ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:isEmpty."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S12-many-isSimple-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S12-many-isSimple-one-sub> ;
  sh:targetSubjectsOf geo:isSimple ;
.
<http://www.opengis.net/def/geosparql/validator/S12-many-isSimple-one-sub>
  a sh:PropertyShape ;
  sh:path geo:isSimple ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:isSimple."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S13-many-spatialDimension-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S13-many-spatialDimension-one-sub> ;
  sh:targetSubjectsOf geo:spatialDimension ;
.
<http://www.opengis.net/def/geosparql/validator/S13-many-spatialDimension-one-sub>
  a sh:PropertyShape ;
  sh:path geo:spatialDimension ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:spatialDimension."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S14a-many-hasSpatialResolution-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S14a-many-hasSpatialResolution-one-sub> ;
  sh:targetSubjectsOf geo:hasSpatialResolution ;
.
<http://www.opengis.net/def/geosparql/validator/S14a-many-hasSpatialResolution-one-sub>
  a sh:PropertyShape ;
  sh:path geo:hasSpatialResolution ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:hasSpatialResolution."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S14b-many-hasSpatialAccuracy-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S14b-many-hasSpatialAccuracy-one-sub> ;
  sh:targetSubjectsOf geo:hasSpatialAccuracy ;
.
<http://www.opengis.net/def/geosparql/validator/S14b-many-hasSpatialAccuracy-one-sub>
  a sh:PropertyShape ;
  sh:path geo:hasSpatialAccuracy ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:hasSpatialAccuracy."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S14c-many-hasMetricSpatialAccuracy-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S14c-many-hasMetricSpatialAccuracy-one-sub> ;
  sh:targetSubjectsOf geo:hasMetricSpatialAccuracy ;
.
<http://www.opengis.net/def/geosparql/validator/S14c-many-hasMetricSpatialAccuracy-one-sub>
  a sh:PropertyShape ;
  sh:path geo:hasMetricSpatialAccuracy ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:hasMetricSpatialAccuracy."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S14d-many-hasMetricSpatialResolution-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S14d-many-hasMetricSpatialResolution-one-sub> ;
  sh:targetSubjectsOf geo:hasMetricSpatialResolution ;
.
<http://www.opengis.net/def/geosparql/validator/S14d-many-hasMetricSpatialResolution-one-sub>
  a sh:PropertyShape ;
  sh:path geo:hasMetricSpatialResolution ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:hasMetricSpatialResolution."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S15-wkt-content>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S15-wkt-content-sub-start> ;
  sh:targetSubjectsOf geo:asWKT ;
.
<http://www.opengis.net/def/geosparql/validator/S15-wkt-content-sub-start>
  a sh:PropertyShape ;
  sh:path geo:asWKT ;
  skos:example """# Un exemple non valide: le littéral RDF d'un geo:asWKT n'a pas de chaîne WKT bien formée comme contenu, mais plutôt une chaîne de GeoJSON 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"{ \"type\": \"Point\", \"coordinates\": [149.06017784, -35.23612321] }\"^^geo:wktLiteral ;
			] ;
		."""@fr ;
  skos:example """# Un exemple valide: le littéral RDF d'une geo:asWKT entrante est une chaîne WKT bien formée.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		."""@fr ;
  sh:message "Le contenu d'un littéral RDF d'une relation entrante geo:asWKT doit être conforme à une chaîne WKT bien formée, telle que définie par sa spécification officielle (accès simple des fonctionnalités)."@fr ;
  sh:pattern "^\\s*$|^\\s*(P|C|S|L|T|<)" ;
.
<http://www.opengis.net/def/geosparql/validator/S16-gml-content>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S16-gml-content-sub-start> ;
  sh:targetSubjectsOf geo:asGML ;
.
<http://www.opengis.net/def/geosparql/validator/S16-gml-content-sub-start>
  a sh:PropertyShape ;
  sh:path geo:asGML ;
  sh:message "Le contenu d'un littéral RDF avec une relation entrante geo:asGML doit être conforme à une chaîne XML GML géométrie bien formée, telle que définie par sa spécification officielle."@fr ;
  sh:pattern "^\\s*$|^\\s*(<)(.+)(>)\\s*$" ;
.
<http://www.opengis.net/def/geosparql/validator/S17-geojson-content>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S18-geojson-content-sub-start> ;
  sh:targetSubjectsOf geo:asGeoJSON ;
.
<http://www.opengis.net/def/geosparql/validator/S17-geojson-content-sub-start>
  a sh:PropertyShape ;
  sh:path geo:asGeoJSON ;
  sh:message "Le contenu d'un littéral RDF avec une relation entrante geo:asGeoJSON doit être conforme à une chaîne de géométrie GeoJSON bien formée, telle que définie par sa spécification officielle."@fr ;
  sh:pattern "^\\s*$|^\\s*({)(.*)(})\\s*$" ;
.
<http://www.opengis.net/def/geosparql/validator/S18-kml-content>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S19-kml-content-sub-start> ;
  sh:targetSubjectsOf geo:asKML ;
.
<http://www.opengis.net/def/geosparql/validator/S18-kml-content-sub-start>
  a sh:PropertyShape ;
  sh:path geo:asKML ;
  sh:message "Le contenu d'un littéral RDF avec une relation entrante geo:asKML doit être conforme à une chaîne XML de géométrie KML bien formée, telle que définie par sa spécification officielle."@fr ;
  sh:pattern "^\\s*$|^\\s*(<)(.+)(>)\\s*$" ;
.
<http://www.opengis.net/def/geosparql/validator/S20-dimension-coordinateDimension>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S20-dimension-coordinateDimension-sub> ;
  sh:targetSubjectsOf geo:dimension ;
.
<http://www.opengis.net/def/geosparql/validator/S20-dimension-coordinateDimension-sub>
  a sh:PropertyShape ;
  sh:path geo:coordinateDimension ;
  skos:example """# Un exemple non valide: la valeur de geo:dimension est 3 tandis que geo:coordinateDimension a une valeur 2 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x> geo:hasGeometry <feature-x-geom1> .
		<feature-x-geom1> geo:dimension 3 ;
			geo:coordinateDimension 2 ;
		."""@fr ;
  skos:example """# Un exemple valide: geo:dimension a la valeur est 2 tandis qu'il n'a pas de geo:coordinateDimension.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x> geo:hasGeometry <feature-x-geom1> .
		<feature-x-geom1> geo:dimension 2 ;
		."""@fr ;
  skos:example """# Un exemple valide: geo:dimension a la valeur est 2 tandis que le geo:coordinateDimension a une valeur 2 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x> geo:hasGeometry <feature-x-geom1> .
		<feature-x-geom1> geo:dimension 2 ;
			geo:coordinateDimension 2 ;
		."""@fr ;
  sh:sparql [
      sh:message "Si les deux propriétés geo:dimension et geo:coordinateDimension sont affirmées, la valeur de geo:dimension doit être inférieure ou égale à la valeur de geo:coordinateDimension."@fr ;
      sh:select """
			PREFIX geo: <http://www.opengis.net/ont/geosparql#>
			SELECT $this
			WHERE {
				$this geo:dimension ?dim ;
					geo:coordinateDimension ?coordDim .
				FILTER ( ?dim > ?coordDim )
			}
		""" ;
    ] ;
.
<http://www.opengis.net/def/geosparql/validator/S21-FeatureCollectionClass-member-feature>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S21-FeatureCollectionClass-member-onlyFeature-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S21-FeatureCollectionClass-minOneMember-feature-sub> ;
  sh:targetClass geo:FeatureCollection ;
.
<http://www.opengis.net/def/geosparql/validator/S21-FeatureCollectionClass-member-onlyFeature-sub>
  a sh:PropertyShape ;
  sh:path rdfs:member ;
  skos:example """# Un exemple non valide: Le noeud Geo:FeatureCollection possède un rdfs:membre de la relation avec un noeud geo:Feature et une autre geo:Geometry
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<featureCollection-x> 
		    a geo:FeatureCollection ;
		    rdfs:member <featureCollection-x> , <geometry-x> ;
		.
		
		<feature-x> geo:hasGeometry <feature-x-geom1> .
		
		<geometry-x> a geo:Geometry ."""@fr ;
  skos:example """# Un exemple valide: le noeud geo:FeatureCollection a un rdfs:membre qui pointe a un noeud geo:Feature 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<featureCollection-x>
		    a geo:FeatureCollection ;
		    rdfs:member <feature-x>
		.
		
		<feature-x>
		    a geo:Feature ;
		    geo:hasGeometry <feature-x-geom1> ;
		."""@fr ;
  sh:sparql [
      sh:message "Une instance de geo:FeatureCollection ne doit avoir que des rdfs:member sortant qui n'ont que des geo:Feature."@fr ;
      sh:select """
			PREFIX geo: <http://www.opengis.net/ont/geosparql#>
			PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
			SELECT $this
			WHERE {
				$this rdfs:member ?feature .
				FILTER NOT EXISTS {
					?feature geo:hasGeometry ?geometry .
				}
			}
		""" ;
    ] ;
.
<http://www.opengis.net/def/geosparql/validator/S21-FeatureCollectionClass-minOneMember-feature-sub>
  a sh:PropertyShape ;
  sh:path rdfs:member ;
  skos:example """# Un exemple invalide: Le noeud geo:FeatureCollection ne possède pas de relation rdfs:member 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<featureCollection-x> a geo:FeatureCollection ."""@fr ;
  skos:example """# Un exemple valide: Le noeud geo:FeatureCollection  possède une relation rdfs:member 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<featureCollection-x> 
		    a geo:FeatureCollection ;
		    rdfs:member <feature-x> ;
		.
		
		<feature-x>
		    a geo:Feature ;
		    geo:hasGeometry <feature-x-geom1> ;
		."""@fr ;
  sh:message "Une instance de Geo:FeatureCollection devrait avoir au moins une relation rdfs:member."@fr ;
  sh:minCount 1 ;
.
<http://www.opengis.net/def/geosparql/validator/S22-GeometryCollectionClass-member-geometry>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S22-GeometryCollectionClass-member-onlyGeometry-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S22-GeometryCollectionClass-minOneMember-geometry-sub> ;
  sh:targetClass geo:GeometryCollection ;
.
<http://www.opengis.net/def/geosparql/validator/S22-GeometryCollectionClass-member-onlyGeometry-sub>
  a sh:PropertyShape ;
  sh:path rdfs:member ;
  skos:example """# Exemple valide: le noeud geo:GeometryCollection comporte un rdfs:member sortant qui pointe vers un noeud geo:Geometry 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<geometryCollection-x> 
		    a geo:GeometryCollection ;
		    rdfs:member <geometry-x> ;
		.		
		
		<feature-x> geo:hasGeometry <geometry-x> ."""@fr ;
  skos:example """# Un exemple non valide: le noeud d'instance geo:GeometryCollection comporte un rdfs:member sortant qui pointe a un noeud geo:Geometry et un autre noeud qui n'est pas un geo:Geometry 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<geometryCollection-x> 
		    a geo:GeometryCollection ;
		    rdfs:member <geometry-x> , <feature-x> ;
		.
		
		<feature-x> geo:hasGeometry <geometry-x> ."""@fr ;
  sh:sparql [
      sh:message "Une instance de geo:GeometryCollection ne doit avoir que des relations rdfs:member sortantes aux instances de geo:Geometry."@fr ;
      sh:select """
			PREFIX geo: <http://www.opengis.net/ont/geosparql#>
			PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
			SELECT $this
			WHERE {
				$this rdfs:member ?geometry .
				FILTER NOT EXISTS {
					?feature geo:hasGeometry ?geometry .
				}
			}
		""" ;
    ] ;
.
<http://www.opengis.net/def/geosparql/validator/S22-GeometryCollectionClass-minOneMember-geometry-sub>
  a sh:PropertyShape ;
  sh:path rdfs:member ;
  skos:example """
		#Exemple valide: Le noeud geo:GeometryCollection possède un rdfs:member
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<geometryCollection-x> 
		    a geo:GeometryCollection ;
		    rdfs:member <geometry-x> ;
		.
				
		<feature-x> geo:hasGeometry <geometry-x> .
		"""@fr ;
  skos:example """# Exemple invalide: Le noeud geo:GeometryCollection ne possède pas un rdfs:member
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<geometryCollection-x> a geo:GeometryCollection ."""@fr ;
  sh:message "Une instance de geo:GeometryCollection doit avoir au moins une relation sortante rdfs:member."@fr ;
  sh:minCount 1 ;
.
<http://www.opengis.net/def/geosparql/validator/S23-SpatialObjectCollection-member-onlySpatialObject-sub>
  a sh:PropertyShape ;
  sh:path rdfs:member ;
  skos:example """# Exemple valide: Le noeud geo:SpatialObjectCollection a des relations sortante rdfs:member qui pointent à des instances geo:SpatialObject
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<spatialObjectCollection-x>
		    a geo:SpatialObjectCollection ;
		    rdfs:member <geometry-x> , <feature-y> ;
		.
		
		<feature-x> geo:hasGeometry <geometry-x> .
		<feature-y> geo:hasGeometry <geometry-y> ."""@fr ;
  skos:example """# Un Exemple invalide: Le noeud geo:SpatialObjectCollection a des relations sortantes rdfs:member qui pointent à des instances geo:Geometry, geo:Feature et ex:Thing.
		@prefix ex: <http://example.com/> .
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<spatialObjectCollection-x>
		    a geo:SpatialObjectCollection ;
		    rdfs:member <geometry-x> , <feature-y> , <thing-x> ;
		.
		
		<thing-x> a ex:Thing .		
		<feature-x> geo:hasGeometry <geometry-x> .
		<feature-y> geo:hasGeometry <geometry-y> ."""@fr ;
  sh:sparql [
      sh:message "Une instance de geo:SpatialObjectCollection ne doit avoir que des relations sortantes rdfs:member qui pointent vers des instances geo:SpatialObject ou ses sous-classes."@fr ;
      sh:select """
			PREFIX geo: <http://www.opengis.net/ont/geosparql#>
			PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
			SELECT $this
			WHERE {
				$this rdfs:member ?spatialObject .
				FILTER NOT EXISTS {
					?spatialObject geo:hasGeometry|^geo:hasGeometry ?geometryOrFeature .
				}
			}
		""" ;
    ] ;
.
<http://www.opengis.net/def/geosparql/validator/S23-SpatialObjectCollection-member-spatialObject>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S23-SpatialObjectCollection-member-onlySpatialObject-sub> ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S23-SpatialObjectCollection-minOneMember-spatialObject-sub> ;
  sh:targetClass geo:SpatialObjectCollection ;
.
<http://www.opengis.net/def/geosparql/validator/S23-SpatialObjectCollection-minOneMember-spatialObject-sub>
  a sh:PropertyShape ;
  sh:path rdfs:member ;
  skos:example """
		# Un exemple valide: Le noeud geo:SpatialObjectCollection a une relation sortante rdfs:member.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<spatialObjectCollection-x>
		    a geo:SpatialObjectCollection ;
		    rdfs:member <feature-x>
		.
		
		<feature-x> geo:hasGeometry <geometry-x> .
		"""@fr ;
  skos:example """# Un exemple invalide: Le noeud geo:SpatialObjectCollection n'a pas une relation sortante rdfs:member.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

		<spatialObjectCollection-x>
		    a geo:SpatialObjectCollection ;
		."""@fr ;
  sh:message "Une instance de geo:eo:SpatialObjectCollection doit avoir au moins une relation sortante rdfs:member."@fr ;
  sh:minCount 1 ;
.
<http://www.opengis.net/def/geosparql/validator/S3-hasGeometry-hasGeometry-sub>
  skos:example """
		# Exemple valide: l'instance de ressource <Resource-X-Geom1> a une propriété entrante geo:hasDefaultGeometry et aucune propriété geo:hasDefaultGeometry (ou ses spécialisations)
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<resource-x> geo:hasDefaultGeometry <resource-x-geom1> .
		<resource-x-geom1> geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral .
		"""@fr ;
  skos:example """
		# Un exemple non valide: l'instance de ressource <ressource-x> a une propriété de geo:hasDefaultGeometry entrante et une propriété de geo:hasDefaultGeometry sortante (c'est-à-dire une noeud geo:Feature et geo:Geometry) 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<resource-y>
			geo:hasDefaultGeometry <resource-x> ;
		.
		<resource-x>
			geo:asWKT \"POINT (153.084232 -27.322734)\"^^geo:wktLiteral ;
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		.		
		"""@fr ;
  skos:example """
		# Un exemple non valide: l'instance de ressource <ressource-x> a à la fois une propriété sortante et entrante geo:hasGeometry (c'est-à-dire un geo:Feature et un geo:Geometry en même temps) 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<resource-y>
			geo:hasGeometry <resource-x> ;
		.
		<resource-x>
			geo:asWKT \"POINT (153.084232 -27.322734)\"^^geo:wktLiteral ;
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		.		
		"""@fr ;
  skos:example """
		# Un exemple valide: l'instance de ressource <ressource-x-geom1> a une propriété entrante geo:hasGeometry et aucune propriété geo:hasGeometry ou spécialisation de celui-ci.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<resource-x> geo:hasGeometry <resource-x-geom1> .
		<resource-x-geom1> geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral .
		"""@fr ;
  sh:maxCount 0 ;
  sh:message "Un noeud qui a une propriété geo:hasGeometry entrante, ou une spécialisation de celui-ci, ne peut posséder une propriété geo:hasGeometry, ou une spécialisation de celle-ci, en même temps (un noeud geo:Feature ne peut être à la fois un noeud geo:Geometry )."@fr ;
.
<http://www.opengis.net/def/geosparql/validator/S4-hasSerialization-literal>
  a sh:NodeShape ;
  skos:example """
		# Un exemple invalide: la cible d'une propriété geo:asWKT n'est pas un littéral RDF
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-y>
			geo:hasGeometry [
				geo:asWKT <geometry-serialization-node> ;
			] ;
		.		
		"""@fr ;
  skos:example """
		# Un exemple valide: la cible d'une propriété geo:asWKT est un littéral RDF 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		.
		"""@fr ;
  sh:message "La cible d'une propriété geo:hasSerialization, ou sa spécialisation, devrait être un littéral RDF."@fr ;
  sh:nodeKind sh:Literal ;
  sh:targetObjectsOf geo:asDGGS ;
  sh:targetObjectsOf geo:asGML ;
  sh:targetObjectsOf geo:asGeoJSON ;
  sh:targetObjectsOf geo:asKML ;
  sh:targetObjectsOf geo:asWKT ;
  sh:targetObjectsOf geo:hasSerialization ;
.
<http://www.opengis.net/def/geosparql/validator/S5-asWKT-wktLiteral>
  a sh:NodeShape ;
  skos:example """
		# Un exemple non valide: la cible d'une propriété geo:asWKT est un littéral RDF mais avec le mauvais type de données (xsd:String) 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-z>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\" ;
			] ;
		.		
		"""@fr ;
  skos:example """
		# Un exemple valide: la cible d'une propriété geo:asWKT est un littéral RDF avec type geo:wktLiteral 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .

		<feature-x>
			geo:hasGeometry [
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:wktLiteral ;
			] ;
		.
		"""@fr ;
  sh:datatype geo:wktLiteral ;
  sh:message "La cible d'une propriété geo:asWKT devrait être un littéral RDF avec un type geo:wktLiteral"@fr ;
  sh:targetObjectsOf geo:asWKT ;
.
<http://www.opengis.net/def/geosparql/validator/S6-asGML-gmlLiteral>
  a sh:NodeShape ;
  sh:datatype geo:gmlLiteral ;
  sh:message "La cible d'une propriété geo:asGML devrait être un littéral RDF avec type geo:gmlLiteral"@fr ;
  sh:targetObjectsOf geo:asGML ;
.
<http://www.opengis.net/def/geosparql/validator/S7-asGeoJSON-geoJSONLiteral>
  a sh:NodeShape ;
  sh:datatype geo:geoJSONLiteral ;
  sh:message "La cible d'une propriété geo:asGeoJSON devrait être un littéral RDF avec type geo:geoJSONliteral."@fr ;
  sh:targetObjectsOf geo:asGeoJSON ;
.
<http://www.opengis.net/def/geosparql/validator/S8-asKML-kmlLiteral>
  a sh:NodeShape ;
  sh:datatype geo:kmlLiteral ;
  sh:message "La cible d'une propriété geo:asKML devrait être un littéral RDF avec type geo:kmlLiteral. "@fr ;
  sh:targetObjectsOf geo:asKML ;
.
<http://www.opengis.net/def/geosparql/validator/S9-many-coordinateDimension-one>
  a sh:NodeShape ;
  sh:property <http://www.opengis.net/def/geosparql/validator/S9-many-coordinateDimension-one-sub> ;
  sh:targetSubjectsOf geo:coordinateDimension ;
.
<http://www.opengis.net/def/geosparql/validator/S9-many-coordinateDimension-one-sub>
  a sh:PropertyShape ;
  sh:path geo:coordinateDimension ;
  skos:example """
		# Un exemple non valide: le sujet d'une propriété geo:coordinateDimension a une autre propriété avec le même nom mais une valeur différente.
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		
		<feature-y>
			geo:hasGeometry [
				geo:coordinateDimension 2 , 3 ;
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:dggsLiteral ;
			] ;
		.
		"""@fr ;
  skos:example """
		# Un exemple valide: le sujet d'une propriété geo:coordinateDimension n'a aucune autre propriété avec le même nom 
		@prefix geo: <http://www.opengis.net/ont/geosparql#> .
		
		<feature-x>
			geo:hasGeometry [
				geo:coordinateDimension 2 ;
				geo:asWKT \"POINT (153.084230 -27.322738)\"^^geo:dggsLiteral ;
			] ;
		.
		"""@fr ;
  sh:maxCount 1 ;
  sh:message "Un geo:Geometry doit avoir au maximum une propriété geo:coordinateDimension."@fr ;
.
